# 국어 학습 통합 시스템 - 기능 명세서 (v2)

## 프로젝트 개요

국어 독해력 향상을 위한 웹 기반 학습 시스템으로, 교사와 학생을 위한 통합 플랫폼입니다.

### 핵심 가치
- **문단별 분석**: 지문을 읽고 각 문단별 질문에 답하며 독해력 향상
- **실시간 피드백**: 즉각적인 성적 확인 및 오답 분석
- **학습 진도 추적**: 학생별 학습 기록 및 성적 관리
- **통계 분석**: 교사를 위한 상세한 통계 및 분석 도구
- **맞춤형 학습**: 교사 지정 지문/문제 및 학생 자율 선택

---

## 1. 인증 시스템

### 1.1 사용자 유형
- **교사 (Teacher)**
  - 교사 ID로 로그인
  - 학생 관리, 지문/문제 관리, 성적 조회 권한

- **학생 (Student)**
  - 학번 (예: 030201 = 3학년 2반 1번) + 아이디로 로그인
  - 학습 및 성적 조회 권한

### 1.2 로그인 프로세스
1. 사용자 유형 선택 (교사/학생)
2. 인증 정보 입력
   - 교사: 교사 ID + 비밀번호
   - 학생: 학번 + 아이디 + 비밀번호
3. 역할 기반 대시보드 리다이렉션

---

## 2. 교사용 기능

### 2.1 대시보드
실시간 통계 및 현황 파악

#### 주요 통계 카드
- **전체 학생 수**: 등록된 전체 학생 수 (활성 학생 수)
- **등록된 지문**: 시스템에 등록된 지문 개수
- **등록된 문제**: 시스템에 등록된 문제 개수
- **평균 성적**: 전체 학생의 평균 점수

#### 최근 활동 로그
- 학생 학습 기록
- 신규 등록 지문/문제
- 제출된 성적

### 2.2 학생 관리

#### 2.2.1 학생 목록
- 학번, 이름, 학년, 반, 번호 표시
- 활성화 상태 및 기간 표시
- 검색 및 필터링 기능
  - 학년별 필터
  - 반별 필터
  - 활성화 상태별 필터
  - 이름/학번 검색

#### 2.2.2 학생 등록
**필수 정보**
- 학번 (자동 생성 또는 수동 입력)
- 이름
- 학년 (1, 2, 3)
- 반
- 번호
- 아이디 (로그인용)
- 비밀번호
- **활성화 기간** (신규)
  - 시작일 (activationStartDate)
  - 종료일 (activationEndDate)
  - 기간이 지나면 자동으로 비활성화

**기능**
- 단일 학생 등록
- CSV 파일을 통한 일괄 등록
- 엑셀 파일 업로드 지원

#### 2.2.3 학생 수정/삭제
- 학생 정보 수정
- 학생 비활성화 (삭제 대신 isActive = false)
- 활성화 기간 수정
- 비밀번호 재설정

### 2.3 지문 관리

#### 2.3.1 지문 목록
- 제목, 카테고리, 세부 카테고리, 난이도 표시
- **검색 기능** (신규)
  - 제목 검색
  - 카테고리별 검색
  - 세부 카테고리별 검색
- 필터링 기능
  - 대분류 카테고리별 (비문학, 문학, 문법)
  - **세부 카테고리별** (신규)
  - 난이도별 (중학교, 고1-2, 고3)

#### 2.3.2 지문 카테고리 구조 (신규)

**비문학**
- 인문예술
- 과학기술
- 사회문화

**문학**
- 고전산문
- 고전시가
- 현대산문
- 현대시

**문법**
- 품사
- 단어의 형성
- 음운 변동
- 문장
- 한글맞춤법
- 중세 국어

#### 2.3.3 지문 등록
**필수 정보**
- 제목
- 대분류 카테고리: 비문학, 문학, 문법
- **세부 카테고리**: 위 카테고리 구조에 따라 선택 (신규)
- 난이도: 중학교, 고1-2, 고3
- 지문 내용 (문단별 입력)

**문단별 구조**
```json
{
  "para": "문단 내용",
  "q": "문단별 질문",
  "a": "정답",
  "explanation": "정답 해설"  // 신규
}
```

**교사 지정 기능** (신규)
- 특정 학생 또는 학년/반에 지문 지정
- 지정 지문은 학생의 "지정된 학습" 탭에 표시
- 완료 기한 설정 가능

#### 2.3.4 지문 수정/삭제
- 지문 내용 수정
- 문단 추가/삭제
- 정답 해설 추가/수정
- 지문 삭제 (연관된 문제 처리 필요)

### 2.4 문제 관리

#### 2.4.1 문제 목록
- 지문별 문제 목록
- **검색 기능** (신규)
  - 문제 내용 검색
  - 지문별 검색
- 문제 유형별 필터
  - 객관식
  - 단답형
  - 서술형

#### 2.4.2 문제 등록
**필수 정보**
- 연결된 지문 (선택 사항 - null인 경우 문법/개념 문제)
- 문제 유형: 객관식, 단답형, 서술형
- 문제 내용
- 선택지 (객관식인 경우)
- **정답 (복수 정답 지원)** (신규)
  - answers 배열로 여러 정답 인정
- 해설

**문제 유형별 구조**
- **객관식**: options 배열에 선택지, answers에 정답 번호(들)
- **단답형**: answers에 정답 텍스트 배열 (여러 정답 가능)
- **서술형**: answers에 모범 답안, 교사가 수동 채점

**정답 해설 추가** (신규)
- explanation 필드에 상세 해설 작성
- 오답 선택지별 해설 추가 가능

**교사 지정 기능** (신규)
- 문법/개념 문제를 특정 학생에게 지정
- 지정된 문제는 학생의 "지정된 학습" 탭에 표시

#### 2.4.3 문제 수정/삭제
- 문제 내용 수정
- 정답/해설 수정
- 복수 정답 추가/삭제
- 문제 삭제

### 2.5 성적 조회

#### 2.5.1 성적 목록
- 학생별 성적 조회
- 지문별 성적 조회
- 기간별 조회

#### 2.5.2 상세 성적 보기
**표시 정보**
- 학생 정보 (학번, 이름, 학년/반)
- 지문 정보
- 독해 시간
- 총점
- 문단별 질문 답변 및 채점 결과
- 문제별 답변 및 채점 결과
- 제출 일시

**학생별 성적 그래프** (신규)
- 시간에 따른 성적 추이 (라인 차트)
- 카테고리별 점수 분포 (막대 그래프)
- 학습 횟수 및 평균 점수

#### 2.5.3 성적 다운로드
- Excel 형식 다운로드
- PDF 형식 다운로드
- CSV 형식 다운로드

### 2.6 통계 분석

#### 2.6.1 전체 통계
- 학년별 평균 점수
- 반별 평균 점수
- 대분류 카테고리별 평균 점수 (비문학, 문학, 문법)
- 세부 카테고리별 평균 점수
- 난이도별 평균 점수

#### 2.6.2 개인별 통계
- 학생별 성적 추이 (라인 차트)
- 학생별 카테고리별 점수 (레이더 차트)
- 학습 횟수 및 평균 독해 시간
- **학생별 성적 그래프** (신규)
  - 기간별 점수 추이
  - 카테고리별 강점/약점 분석

#### 2.6.3 지문별 통계
- 지문별 평균 점수
- 지문별 정답률
- **문제별 정답률** (신규)
  - 각 문제의 정답률 계산
  - 난이도 분석 데이터 제공
  - 오답이 많은 문제 하이라이트

#### 2.6.4 데이터 시각화
- 차트 라이브러리 활용 (recharts)
  - 막대 그래프
  - 꺾은선 그래프
  - 원 그래프
  - 레이더 차트
  - 히트맵 (문제별 정답률)

---

## 3. 학생용 기능

### 3.1 학습하기

#### 3.1.1 학습 모드 선택
**스스로 선택** (기존)
- 카테고리, 세부 카테고리, 난이도 선택
- 지문 검색 기능
- 랜덤 지문 선택

**교사 지정 학습** (신규)
- 교사가 지정한 지문/문제 목록 표시
- 완료 기한 표시
- 완료 여부 표시

#### 3.1.2 독해 연습
**Step 1: 지문 선택**
- **스스로 선택 모드**
  - 대분류 카테고리 선택 (비문학, 문학, 문법)
  - 세부 카테고리 선택
  - 난이도 선택 (중학교, 고1-2, 고3)
  - **지문 검색** (신규): 제목으로 검색
  - 랜덤 지문 선택

- **교사 지정 모드** (신규)
  - 교사가 지정한 지문 목록에서 선택
  - 미완료 지문 우선 표시

**Step 2: 지문 읽기**
- 타이머 시작 (독해 시간 측정)
- 전체 지문 표시
- 독해 완료 버튼

**Step 3: 문단별 질문 답변**
- 각 문단별 질문 표시
- 지문과 질문을 함께 볼 수 있는 UI
- 답변 입력 (텍스트 입력)
- **정답 해설 확인** (제출 후)

**Step 4: 문제 풀기**
- 지문 관련 문제 표시
- 문제 유형별 답변 방식
  - 객관식: 라디오 버튼
  - 단답형: 텍스트 입력
  - 서술형: 텍스트 영역

**Step 5: 결과 확인**
- 즉시 채점 결과 표시
- 문단별 질문 채점 결과
- **정답 해설 표시** (신규)
- 문제별 채점 결과
- 총점 및 독해 시간 표시
- 오답 해설 제공
- **오답 노트에 자동 저장** (신규)

#### 3.1.3 문법/개념 풀기
**스스로 선택 모드**
- 세부 카테고리 선택 (품사, 단어의 형성 등)
- **문제 검색 기능** (신규)
- 랜덤 문제 선택

**교사 지정 모드** (신규)
- 교사가 지정한 문법/개념 문제
- 완료 기한 및 진행 상황 표시

**문제 풀이**
- 즉시 채점 및 해설 제공
- 오답은 오답 노트에 자동 저장

### 3.2 내 성적

#### 3.2.1 성적 목록
- 학습 기록 리스트
  - 지문 제목
  - 점수
  - 독해 시간
  - 제출 일시
- 필터링
  - 카테고리별
  - 기간별

#### 3.2.2 성적 상세 보기
- 문제별 답변 및 정답 비교
- 문단별 질문 답변 확인
- **정답 해설 확인** (신규)
- 오답 복습 기능

#### 3.2.3 성적 통계
- 평균 점수
- **성적 추이 그래프** (신규)
  - 시간에 따른 점수 변화 (라인 차트)
  - 최근 10회 평균 점수
- 카테고리별 점수 (차트)
- 학습 횟수
- 평균 독해 시간

### 3.3 오답 노트 (신규)

#### 3.3.1 오답 목록
- 틀린 문제 자동 저장
- 카테고리별 분류
- 복습 여부 표시

#### 3.3.2 오답 복습
- 오답 문제만 다시 풀기
- 정답 확인 및 해설 보기
- 복습 완료 체크

#### 3.3.3 오답 통계
- 자주 틀리는 카테고리 분석
- 오답률 높은 문제 유형

### 3.4 순위

**순위 표시 방식 변경** (신규)
- **상위 5등까지만 표시**
- **이름 비공개, 점수만 공개**
- 본인 순위는 항상 표시 (이름 포함)

#### 3.4.1 반별 순위
- 같은 반 학생들의 순위
- 평균 점수 기준
- 상위 5명 표시 (이름 비공개, 점수만)
- 본인 순위 별도 표시

#### 3.4.2 학년별 순위
- 같은 학년 학생들의 순위
- 평균 점수 기준
- 상위 5명 표시 (이름 비공개, 점수만)
- 본인 순위 별도 표시

#### 3.4.3 전체 순위
- 전교 순위
- 평균 점수 기준
- 상위 5명 표시 (이름 비공개, 점수만)
- 본인 순위 별도 표시

---

## 4. 데이터 구조

### 4.1 데이터베이스 모델

#### User
- 기본 인증 정보
- role: STUDENT, TEACHER, ADMIN

#### Teacher
- teacherId: 교사 고유 ID
- name: 교사 이름
- user: User 관계

#### Student
- studentId: 학번 (예: 030201)
- name: 학생 이름
- grade: 학년 (1, 2, 3)
- class: 반
- number: 번호
- isActive: 활성화 여부
- **activationStartDate**: 활성화 시작일 (신규)
- **activationEndDate**: 활성화 종료일 (신규)
- user: User 관계

#### Passage
- title: 제목
- category: 대분류 카테고리 (비문학, 문학, 문법)
- **subcategory**: 세부 카테고리 (신규)
  - 비문학: 인문예술, 과학기술, 사회문화
  - 문학: 고전산문, 고전시가, 현대산문, 현대시
  - 문법: 품사, 단어의 형성, 음운 변동, 문장, 한글맞춤법, 중세 국어
- difficulty: 난이도 (중학교, 고1-2, 고3)
- contentBlocks: 문단별 내용 (JSON)
  ```json
  [
    {
      "para": "문단 내용",
      "q": "질문",
      "a": "정답",
      "explanation": "정답 해설"
    }
  ]
  ```

#### Question
- passageId: 연결된 지문 (nullable)
- type: 문제 유형 (객관식, 단답형, 서술형)
- text: 문제 내용
- options: 선택지 (JSON, 객관식인 경우)
- **answers**: 정답 배열 (복수 정답 지원) (신규)
- explanation: 해설
- **wrongAnswerExplanations**: 오답 선택지별 해설 (JSON) (신규)

#### AssignedPassage (신규)
- passageId: 지정된 지문 ID
- assignedBy: 교사 ID
- assignedTo: 학생 ID (null인 경우 학년/반 전체)
- targetGrade: 대상 학년 (nullable)
- targetClass: 대상 반 (nullable)
- dueDate: 완료 기한
- createdAt: 지정 일시

#### AssignedQuestion (신규)
- questionId: 지정된 문제 ID
- assignedBy: 교사 ID
- assignedTo: 학생 ID (null인 경우 학년/반 전체)
- targetGrade: 대상 학년 (nullable)
- targetClass: 대상 반 (nullable)
- dueDate: 완료 기한
- createdAt: 지정 일시

#### Result
- studentId: 학생 ID
- passageId: 지문 ID
- readingTime: 독해 시간 (초)
- score: 총점 (0-100)
- paragraphAnswers: 문단별 질문 답변 (JSON)
- submittedAt: 제출 일시
- **isAssigned**: 교사 지정 여부 (신규)

#### QuestionAnswer
- resultId: 성적 ID
- questionId: 문제 ID
- answer: 학생 답변
- isCorrect: 정답 여부

#### WrongAnswer (신규)
- studentId: 학생 ID
- questionId: 문제 ID
- wrongAnswer: 틀린 답변
- correctAnswer: 정답
- explanation: 해설
- isReviewed: 복습 완료 여부
- createdAt: 오답 저장 일시

---

## 5. 기술 스택

### 5.1 프론트엔드
- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: TailwindCSS v4
- **State Management**: React Hooks
- **Forms**: react-hook-form + zod
- **Charts**: recharts (라인 차트, 막대 차트, 레이더 차트, 히트맵)
- **Authentication**: NextAuth.js v5

### 5.2 백엔드
- **Runtime**: Node.js
- **API**: Next.js API Routes
- **Database ORM**: Prisma
- **Database**: PostgreSQL (Supabase)
- **Authentication**: NextAuth.js v5 + bcryptjs

### 5.3 배포
- **Platform**: Vercel
- **Database**: Supabase (PostgreSQL)

---

## 6. 주요 워크플로우

### 6.1 학생 학습 워크플로우 (스스로 선택)
```
로그인
  ↓
학습하기 선택
  ↓
독해 연습 or 문법/개념 풀기
  ↓
[독해 연습]
  1. 카테고리 선택 (대분류 → 세부 카테고리)
  2. 난이도 선택 또는 검색
  3. 타이머 시작 → 지문 읽기
  4. 독해 완료 버튼
  5. 문단별 질문 답변
     - 답변 제출 후 정답 해설 확인
  6. 문제 풀기
  7. 제출
  ↓
결과 확인
  - 즉시 채점
  - 총점 및 독해 시간
  - 정답 해설
  - 오답 자동 저장 (오답 노트)
  ↓
내 성적에서 기록 확인
성적 추이 그래프 확인
```

### 6.2 학생 학습 워크플로우 (교사 지정) (신규)
```
로그인
  ↓
학습하기 → 지정된 학습 탭
  ↓
교사가 지정한 지문/문제 목록 확인
  - 완료 기한 확인
  - 미완료 항목 우선 표시
  ↓
지정된 지문/문제 선택
  ↓
학습 진행 (스스로 선택과 동일)
  ↓
완료 상태 자동 업데이트
```

### 6.3 교사 지문/문제 등록 및 지정 워크플로우
```
로그인
  ↓
지문 관리
  ↓
새 지문 등록
  - 제목, 대분류 카테고리, 세부 카테고리, 난이도 입력
  - 문단별 내용 입력
    * 각 문단: 내용 + 질문 + 정답 + 해설
  ↓
저장
  ↓
문제 관리
  ↓
해당 지문에 문제 추가
  - 문제 유형 선택
  - 문제 내용 입력
  - 복수 정답 입력
  - 정답 해설 및 오답 해설 입력
  ↓
저장
  ↓
[선택] 특정 학생/학년/반에 지정
  - 대상 선택
  - 완료 기한 설정
  - 지정 완료
  ↓
학생들이 학습 가능
```

### 6.4 교사 성적 조회 및 분석 워크플로우
```
로그인
  ↓
성적 조회
  ↓
조회 조건 선택
  - 학생별
  - 지문별
  - 기간별
  ↓
성적 목록 확인
  ↓
상세 성적 보기
  - 문단별 질문 답변
  - 문제별 답변
  - 채점 결과
  ↓
통계 분석
  - 학생별 성적 그래프
  - 문제별 정답률
  - 카테고리별 분석
  ↓
필요 시 다운로드 (Excel/PDF/CSV)
```

---

## 7. 주요 특징

### 7.1 독해 시간 측정
- 정확한 독해 시간 추적
- 학생별 평균 독해 시간 통계
- 독해 속도 개선 추적

### 7.2 문단별 분석
- 각 문단의 핵심 내용 파악 훈련
- 문단별 즉시 피드백
- **정답 해설 제공** (신규)
- 독해력 향상에 효과적

### 7.3 즉시 채점 및 상세 해설
- 제출 즉시 결과 확인
- 오답에 대한 즉각적인 해설
- **복수 정답 인정** (신규)
- 학습 동기 부여

### 7.4 상세한 통계
- 교사: 학급 전체 및 개인별 분석
- **학생별 성적 그래프** (신규)
- **문제별 정답률** (신규)
- 학생: 자신의 성적 추이 확인
- 데이터 기반 학습 관리

### 7.5 다양한 문제 유형
- 객관식: 빠른 개념 확인
- 단답형: 정확한 이해도 측정
- 서술형: 논리적 사고력 평가

### 7.6 맞춤형 학습 (신규)
- **교사 지정 학습**: 학생별/학년별/반별 맞춤 지문/문제
- **스스로 선택 학습**: 자율적 학습 동기 부여
- **검색 기능**: 원하는 지문/문제 빠르게 찾기

### 7.7 오답 노트 (신규)
- 틀린 문제 자동 저장
- 체계적인 복습 관리
- 약점 분석 및 개선

### 7.8 세분화된 카테고리 (신규)
- 12가지 세부 카테고리
- 영역별 집중 학습 가능
- 정확한 통계 및 분석

### 7.9 프라이버시 보호 순위 시스템 (신규)
- 상위 5등만 공개
- 이름 비공개, 점수만 표시
- 학습 동기 부여 + 프라이버시 보호

---

## 8. 향후 확장 가능 기능

### 8.1 고급 통계
- AI 기반 학습 패턴 분석
- 취약점 자동 분석 및 맞춤형 학습 추천
- 학습 효율성 분석

### 8.2 협업 기능
- 학생 간 토론 게시판
- 지문 공유 기능
- 교사 간 문제 공유

### 8.3 멀티미디어
- 오디오 지문 (듣기 평가)
- 비디오 강의 연동
- 이미지 기반 문제

### 8.4 게이미피케이션
- 배지 및 업적 시스템
- 학습 포인트 및 레벨
- 리더보드 및 경쟁 시스템

### 8.5 모바일 앱
- React Native 기반 모바일 앱
- 오프라인 학습 지원
- 푸시 알림

---

## 9. 보안 및 권한

### 9.1 인증
- 비밀번호 bcrypt 해싱
- JWT 기반 세션 관리
- NextAuth.js v5 활용

### 9.2 권한 관리
- 역할 기반 접근 제어 (RBAC)
- 교사: 전체 관리 권한
- 학생: 자신의 학습 데이터만 접근
- 미들웨어를 통한 페이지 접근 제한

### 9.3 데이터 보호
- HTTPS 통신
- SQL Injection 방지 (Prisma ORM)
- XSS 방지 (React 기본 보안)
- CSRF 방지 (NextAuth.js)

---

## 10. 성능 최적화

### 10.1 프론트엔드
- Next.js App Router 활용
- 서버 컴포넌트 활용
- 이미지 최적화 (Next.js Image)
- 코드 스플리팅

### 10.2 백엔드
- Prisma 쿼리 최적화
- 데이터베이스 인덱싱
- API 응답 캐싱
- Edge Function 활용 (Vercel)

### 10.3 데이터베이스
- 적절한 인덱스 설정
- 쿼리 최적화
- 커넥션 풀링

---

## 부록 A: 파일 구조

```
korean-lang-system/
├── prisma/
│   └── schema.prisma        # 데이터베이스 스키마
├── src/
│   ├── app/
│   │   ├── api/             # API Routes
│   │   │   ├── students/
│   │   │   ├── passages/
│   │   │   ├── questions/
│   │   │   ├── results/
│   │   │   ├── assignments/ # 교사 지정 기능 (신규)
│   │   │   └── wrong-answers/ # 오답 노트 (신규)
│   │   ├── login/           # 로그인 페이지
│   │   ├── teacher/         # 교사용 페이지
│   │   │   ├── dashboard/
│   │   │   ├── students/
│   │   │   ├── passages/
│   │   │   ├── questions/
│   │   │   ├── results/
│   │   │   ├── statistics/
│   │   │   └── assignments/ # 지정 관리 (신규)
│   │   └── student/         # 학생용 페이지
│   │       ├── dashboard/
│   │       ├── study/
│   │       │   ├── self/     # 스스로 선택 (신규)
│   │       │   └── assigned/ # 교사 지정 (신규)
│   │       ├── results/
│   │       ├── wrong-answers/ # 오답 노트 (신규)
│   │       └── ranking/
│   ├── components/          # 공통 컴포넌트
│   │   ├── ui/
│   │   ├── charts/          # 차트 컴포넌트 (신규)
│   │   ├── teacher/
│   │   └── student/
│   ├── lib/                 # 유틸리티
│   │   ├── grading.ts       # 채점 로직 (복수 정답 처리)
│   │   └── statistics.ts    # 통계 계산
│   ├── auth/                # 인증 설정
│   └── types/               # TypeScript 타입
├── docs/
│   └── features.md          # 기능 명세서 (이 문서)
└── package.json
```

---

## 부록 B: 카테고리 상수

```typescript
// src/lib/constants.ts

export const CATEGORIES = {
  NON_FICTION: '비문학',
  LITERATURE: '문학',
  GRAMMAR: '문법',
} as const;

export const SUBCATEGORIES = {
  // 비문학
  HUMANITIES_ARTS: '인문예술',
  SCIENCE_TECH: '과학기술',
  SOCIAL_CULTURE: '사회문화',
  
  // 문학
  CLASSIC_PROSE: '고전산문',
  CLASSIC_POETRY: '고전시가',
  MODERN_PROSE: '현대산문',
  MODERN_POETRY: '현대시',
  
  // 문법
  PARTS_OF_SPEECH: '품사',
  WORD_FORMATION: '단어의 형성',
  PHONOLOGICAL_CHANGE: '음운 변동',
  SENTENCE: '문장',
  KOREAN_SPELLING: '한글맞춤법',
  MIDDLE_KOREAN: '중세 국어',
} as const;

export const CATEGORY_SUBCATEGORY_MAP = {
  [CATEGORIES.NON_FICTION]: [
    SUBCATEGORIES.HUMANITIES_ARTS,
    SUBCATEGORIES.SCIENCE_TECH,
    SUBCATEGORIES.SOCIAL_CULTURE,
  ],
  [CATEGORIES.LITERATURE]: [
    SUBCATEGORIES.CLASSIC_PROSE,
    SUBCATEGORIES.CLASSIC_POETRY,
    SUBCATEGORIES.MODERN_PROSE,
    SUBCATEGORIES.MODERN_POETRY,
  ],
  [CATEGORIES.GRAMMAR]: [
    SUBCATEGORIES.PARTS_OF_SPEECH,
    SUBCATEGORIES.WORD_FORMATION,
    SUBCATEGORIES.PHONOLOGICAL_CHANGE,
    SUBCATEGORIES.SENTENCE,
    SUBCATEGORIES.KOREAN_SPELLING,
    SUBCATEGORIES.MIDDLE_KOREAN,
  ],
};

export const DIFFICULTIES = {
  MIDDLE_SCHOOL: '중학교',
  HIGH_1_2: '고1-2',
  HIGH_3: '고3',
} as const;
```

---

## 부록 C: 주요 변경사항 요약 (v1 → v2)

### 신규 기능
1. **복수 정답 지원**: 여러 정답을 인정하는 채점 시스템
2. **정답 해설**: 문단별 질문 및 문제에 상세 해설 추가
3. **교사 지정 학습**: 특정 학생/학년/반에 지문/문제 지정
4. **검색 기능**: 지문 및 문제 검색
5. **오답 노트**: 틀린 문제 자동 저장 및 복습 관리
6. **성적 추이 그래프**: 학생별 시간에 따른 성적 변화
7. **문제별 정답률**: 각 문제의 정답률 통계
8. **활성화 기간 설정**: 학생 활성화에 시작일/종료일 추가
9. **세부 카테고리**: 12가지 세부 카테고리 추가
10. **프라이버시 순위**: 상위 5등만, 이름 비공개

### 데이터 모델 변경
- Student: `activationStartDate`, `activationEndDate` 추가
- Passage: `subcategory` 추가, `contentBlocks`에 `explanation` 추가
- Question: `answers` (배열), `wrongAnswerExplanations` 추가
- AssignedPassage (신규 모델)
- AssignedQuestion (신규 모델)
- WrongAnswer (신규 모델)

### UI/UX 개선
- 카테고리 2단계 선택 (대분류 → 세부 카테고리)
- 학습 모드 탭: "스스로 선택" / "지정된 학습"
- 오답 노트 메뉴 추가
- 성적 그래프 시각화 강화
- 순위 표시 방식 변경

---

**문서 버전**: v2.0  
**최종 수정일**: 2025-10-24  
**작성자**: Claude Code  
**변경사항**: 고객 추가 요구사항 반영
