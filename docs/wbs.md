# Work Breakdown Structure (WBS)

## 1. 프로젝트 개요

### 프로젝트명
국어 학습 통합 시스템

### 전체 기간
**8주 ~ 12주 (약 2개월 ~ 3개월)**

### 개발 방식
- 1인 개발
- Agile 방식 (Phase별 반복 개발)
- MVP 우선, 점진적 기능 추가

---

## 2. Phase별 작업 분류

### Phase 1: 기본 인프라 및 인증 (1-2주) ✅

#### 목표
프로젝트 초기 설정 및 인증 시스템 구축

#### 작업 목록

**1.1 프로젝트 초기 설정 (2일)** ✅
- [x] Next.js 15 프로젝트 생성
- [x] TypeScript 설정
- [x] TailwindCSS v4 설정
- [x] ESLint, Prettier 설정
- [x] Git 저장소 초기화
- [x] .gitignore 설정
- [x] 환경 변수 설정 (.env)

**1.2 데이터베이스 설정 (2일)** ✅
- [x] Neon 프로젝트 생성
- [x] Prisma 설치 및 초기 설정
- [x] DATABASE_URL 환경 변수 설정
- [x] Prisma 스키마 작성 (User, Teacher, Student, Passage, Question, Result)
- [x] 데이터베이스 스키마 푸시 (`npx prisma db push`)
- [x] Prisma Client 생성
- [x] Prisma Studio 확인

**1.3 NextAuth.js 설정 (2-3일)** ✅
- [x] NextAuth.js v5 설치
- [x] Prisma Adapter 설정
- [x] Credentials Provider 구현
  - [x] bcrypt 설치 및 비밀번호 해싱
  - [x] 교사 로그인 로직
  - [x] 학생 로그인 로직 (학번 + 아이디 + 비밀번호)
- [x] NextAuth API Routes 설정
- [x] Session 관리 (JWT)
- [x] Role 기반 권한 설정

**1.4 기본 UI/레이아웃 (2일)** ✅
- [x] 공통 레이아웃 컴포넌트 (Header, Footer)
- [x] 로그인 페이지 UI
- [x] 반응형 디자인 기본 설정
- [x] 글로벌 CSS 설정

**1.5 구조 개선 - 비즈니스 툴 전환 (1일)** ✅
> **중요**: 이 시스템은 소개 웹사이트가 아닌 비즈니스 툴입니다.
> 정해진 사용자(교사/학생)만 로그인하여 업무 수행

- [x] 루트 페이지(/) = 로그인 페이지로 변경
  - [x] 사용자 유형 선택 (교사/학생)
  - [x] 학생 로그인 폼 (학번 + 아이디 + 비밀번호)
  - [x] 교사 로그인 폼 (교사 ID + 비밀번호)
  - [x] 로그인 에러 처리
- [x] 불필요한 마케팅 페이지 삭제
  - [x] /about 삭제
  - [x] /contact 삭제
  - [x] /community 삭제
  - [x] /signup 삭제 (관리자가 생성)
- [x] /login 경로 제거 및 리다이렉트
  - [x] /login → / 리다이렉트 설정
  - [x] NextAuth pages 설정을 "/" 로 변경
- [x] NextAuth 로그인 후 리다이렉트 개선
  - [x] 교사 → /teacher/dashboard
  - [x] 학생 → /student/dashboard
- [x] 대시보드 구조 개선
  - [x] /teacher/dashboard 생성
  - [x] /student/dashboard 생성
  - [x] /student/layout.tsx 생성
- [x] 테스트 계정 생성 API 추가
  - [x] /api/seed-test-users 엔드포인트

**1.6 테스트 (1일)**
- [ ] 교사 로그인 테스트
- [ ] 학생 로그인 테스트
- [ ] 세션 유지 테스트
- [ ] 로그아웃 테스트

#### Deliverable
- 교사/학생 로그인 동작 확인
- 기본 레이아웃 완성
- 데이터베이스 연결 완료

---

### Phase 2: 교사용 기능 (3-4주)

#### 목표
교사용 관리 기능 구현 (학생/지문/문제 관리, 성적 조회)

#### 작업 목록

**2.1 교사 대시보드 (2-3일)** ✅
- [x] 대시보드 레이아웃 (`/teacher/dashboard`)
- [x] 통계 카드
  - [x] 전체 학생 수 조회 API
  - [x] 등록된 지문 수 조회 API
  - [x] 등록된 문제 수 조회 API
  - [x] 평균 성적 조회 API
- [x] 최근 활동 로그 (선택적)
- [x] 대시보드 권한 확인 Middleware

**2.2 학생 관리 (4-5일)** ✅
- [x] 학생 목록 페이지 (`/teacher/students`)
  - [x] 학생 목록 조회 API (`GET /api/teacher/students`)
  - [x] 검색 및 필터링 (학년, 반, 활성화 상태)
  - [x] 페이지네이션
- [x] 학생 등록 페이지 (`/teacher/students/new`)
  - [x] 학생 정보 입력 폼
  - [x] 학번 자동 생성 또는 수동 입력
  - [x] 활성화 기간 설정 (시작일, 종료일)
  - [x] 학생 등록 API (`POST /api/teacher/students`)
- [x] 학생 수정 페이지 (`/teacher/students/[id]/edit`)
  - [x] 학생 정보 수정 API (`PATCH /api/teacher/students/[id]`)
- [x] 학생 삭제/비활성화
  - [x] 학생 비활성화 API (`DELETE /api/teacher/students/[id]`)
- [ ] CSV 일괄 등록 (선택적)

**2.3 지문 관리 (5-6일)** ✅
- [x] 지문 목록 페이지 (`/teacher/passages`)
  - [x] 지문 목록 조회 API (`GET /api/teacher/passages`)
  - [x] 검색 기능 (제목)
  - [x] 필터링 (대분류 카테고리, 세부 카테고리, 난이도)
  - [x] 페이지네이션
- [x] 지문 등록 페이지 (`/teacher/passages/new`)
  - [x] 제목, 카테고리, 세부 카테고리, 난이도 입력
  - [x] 문단별 입력 UI
    - [x] 문단 내용
    - [x] 문단별 질문
    - [x] 정답
    - [x] 정답 해설
  - [x] 문단 추가/삭제 버튼
  - [x] 지문 등록 API (`POST /api/teacher/passages`)
- [x] 지문 상세 페이지 (`/teacher/passages/[id]`)
- [x] 지문 수정 API (`PUT /api/teacher/passages/[id]`)
- [x] 지문 삭제 API (`DELETE /api/teacher/passages/[id]`)
- [ ] 지문 지정 기능 (선택적)
  - [ ] 특정 학생/학년/반에 지문 지정
  - [ ] 완료 기한 설정
  - [ ] 지정 API (`POST /api/assignments/passages`)

**2.4 문제 관리 (5-6일)** ✅
- [x] 문제 목록 페이지 (`/teacher/questions`)
  - [x] 문제 목록 조회 API (`GET /api/teacher/questions`)
  - [x] 지문별 필터링
  - [x] 문제 유형별 필터링
  - [x] 검색 기능
- [x] 문제 등록 페이지 (`/teacher/questions/new`)
  - [x] 연결된 지문 선택 (또는 독립 문제)
  - [x] 문제 유형 선택 (객관식, 단답형, 서술형)
  - [x] 문제 내용 입력
  - [x] 선택지 입력 (객관식)
  - [x] 복수 정답 입력 (배열)
  - [x] 정답 해설 입력
  - [x] 오답 해설 입력 (선택지별)
  - [x] 문제 등록 API (`POST /api/teacher/questions`)
- [x] 문제 상세/수정 페이지 (`/teacher/questions/[id]`)
  - [x] 문제 수정 API (`PUT /api/teacher/questions/[id]`)
- [x] 문제 삭제 API (`DELETE /api/teacher/questions/[id]`)
- [ ] 문제 지정 기능 (선택적)
  - [ ] 특정 학생/학년/반에 문제 지정
  - [ ] 문법/개념 문제 지정
  - [ ] 지정 API (`POST /api/assignments/questions`)

**2.5 성적 조회 (4-5일)** ✅
- [x] 성적 목록 페이지 (`/teacher/results`)
  - [x] 성적 목록 조회 API (`GET /api/teacher/results`)
  - [x] 필터링 (학생별, 지문별, 기간별)
  - [x] 정렬 (제출일, 점수)
  - [x] 페이지네이션
- [x] 성적 상세 페이지 (`/teacher/results/[id]`)
  - [x] 성적 상세 조회 API (`GET /api/teacher/results/[id]`)
  - [x] 학생 정보 표시
  - [x] 지문 정보 표시
  - [x] 독해 시간, 총점 표시
  - [x] 문단별 질문 답변 및 채점 결과
  - [x] 문제별 답변 및 채점 결과
- [x] 성적 다운로드
  - [x] Excel 다운로드 API (`GET /api/teacher/results/export`)
  - [ ] CSV 다운로드 (Excel로 통합)
  - [ ] PDF 다운로드 (선택적)

**2.6 통계 분석 (4-5일)** ✅
- [x] 통계 페이지 (`/teacher/statistics`)
  - [x] 전체 통계 조회 API (`GET /api/teacher/statistics`)
  - [x] 학년별 평균 점수 (막대 차트)
  - [x] 반별 평균 점수 (막대 차트)
  - [x] 카테고리별 평균 점수 (막대 차트)
  - [x] 세부 카테고리별 평균 점수 (테이블)
  - [x] 난이도별 평균 점수 (막대 차트)
  - [x] 최근 30일 성적 추이 (라인 차트)
- [x] 차트 라이브러리 연동 (recharts)
- [ ] 학생별 성적 상세 그래프 (선택적)
  - [ ] 특정 학생 성적 추이
  - [ ] 카테고리별 점수 분포
- [ ] 문제별 정답률 상세 (선택적)
  - [ ] 각 문제의 정답률 계산
  - [ ] 정답률 낮은 문제 하이라이트

**2.7 테스트 (2일)**
- [ ] 학생 관리 CRUD 테스트
- [ ] 지문 관리 CRUD 테스트
- [ ] 문제 관리 CRUD 테스트
- [ ] 지문/문제 지정 테스트
- [ ] 성적 조회 테스트
- [ ] 통계 조회 테스트

#### Deliverable
- 교사용 모든 관리 기능 완성
- 학생/지문/문제 CRUD
- 성적 조회 및 통계 분석

---

### Phase 3: 학생용 학습 기능 (3-4주)

#### 목표
학생용 학습 기능 구현 (독해 연습, 문제 풀이, 성적 조회, 오답 노트)

#### 작업 목록

**3.1 학생 대시보드 (1-2일)**
- [ ] 학생 대시보드 레이아웃 (`/student/dashboard`)
- [ ] 나의 학습 현황 표시
  - [ ] 평균 점수
  - [ ] 학습 횟수
  - [ ] 최근 학습 기록
- [ ] 지정된 학습 알림

**3.2 학습하기 - 스스로 선택 (5-6일)**
- [ ] 지문 선택 페이지 (`/student/study/self`)
  - [ ] 카테고리 선택 (대분류 → 세부 카테고리)
  - [ ] 난이도 선택
  - [ ] 지문 검색
  - [ ] 지문 목록 조회 API (`GET /api/passages`)
  - [ ] 랜덤 지문 선택
- [ ] 독해 연습 페이지 (`/student/study/reading/[passageId]`)
  - [ ] 타이머 시작 (독해 시간 측정)
  - [ ] 전체 지문 표시
  - [ ] "독해 완료" 버튼
- [ ] 문단별 질문 페이지
  - [ ] 각 문단별 질문 표시
  - [ ] 지문과 질문 함께 보기 UI
  - [ ] 답변 입력 (텍스트)
  - [ ] "다음" 버튼
- [ ] 문제 풀이 페이지
  - [ ] 지문 관련 문제 표시
  - [ ] 문제 유형별 답변 UI
    - [ ] 객관식: 라디오 버튼
    - [ ] 단답형: 텍스트 입력
    - [ ] 서술형: 텍스트 영역
  - [ ] "제출" 버튼
- [ ] 결과 확인 페이지
  - [ ] 즉시 채점 API (`POST /api/results`)
  - [ ] 총점 및 독해 시간 표시
  - [ ] 문단별 질문 채점 결과
  - [ ] 정답 해설 표시
  - [ ] 문제별 채점 결과
  - [ ] 오답 해설 표시
  - [ ] 오답 자동 저장

**3.3 학습하기 - 교사 지정 (3-4일)** ✅ 완료
- [x] 지정된 학습 페이지 (`/student/study/assigned`)
  - [x] 교사가 지정한 지문 목록 조회 API (`GET /api/student/assignments`)
  - [x] 완료 기한 표시 (마감일, 마감 초과, 마감 임박)
  - [x] 완료 여부 표시 (자동 판별)
  - [x] 미완료 항목 우선 표시 및 필터링
  - [x] 과제 통계 (전체/완료/미완료/마감초과, 완료율)
- [x] 지정된 지문 학습 (기존 독해 플로우 재사용)
- [x] 완료 상태 자동 추적 (Result 테이블 기반)

**3.4 문법/개념 풀기 (2-3일)** ✅ 완료
- [x] 문법/개념 선택 페이지 (`/student/study/grammar`)
  - [x] 문법 문제 목록 조회 API (`GET /api/student/grammar/questions`)
  - [ ] 세부 카테고리 선택 (품사, 단어의 형성 등) - 스키마에 카테고리 필드 없음
  - [ ] 문제 검색 - 현재 전체 목록만 지원
  - [x] 랜덤 문제 선택
- [x] 문제 풀이 페이지 (`/student/study/grammar/[id]`)
  - [x] 문제 표시
  - [x] 답변 입력 (문제 유형별 UI)
  - [x] 즉시 채점 및 해설 표시 (`POST /api/student/grammar/questions/[id]`)
  - [x] 오답 저장

**3.5 내 성적 (3-4일)**
- [ ] 성적 목록 페이지 (`/student/results`)
  - [ ] 내 성적 목록 조회 API (`GET /api/users/me/results`)
  - [ ] 지문 제목, 점수, 독해 시간, 제출 일시 표시
  - [ ] 필터링 (카테고리별, 기간별)
- [ ] 성적 상세 페이지 (`/student/results/[id]`)
  - [ ] 문제별 답변 및 정답 비교
  - [ ] 정답 해설 확인
  - [ ] 오답 복습 버튼
- [ ] 성적 통계
  - [ ] 평균 점수 계산
  - [ ] 성적 추이 그래프 (라인 차트)
  - [ ] 카테고리별 점수 (막대 그래프)
  - [ ] 학습 횟수, 평균 독해 시간

**3.6 오답 노트 (3-4일)** ✅ 완료
- [x] 오답 목록 페이지 (`/student/wrong-answers`)
  - [x] 오답 목록 조회 API (`GET /api/student/wrong-answers`)
  - [x] 카테고리별 분류
  - [x] 복습 여부 표시
- [x] 오답 복습 페이지 (`/student/wrong-answers/[id]`)
  - [x] 오답 문제만 다시 풀기
  - [x] 정답 확인 및 해설 보기
  - [x] 복습 완료 체크 API (`PATCH /api/student/wrong-answers/[id]`)
- [x] 오답 통계
  - [x] 자주 틀리는 카테고리 분석 (상위 3개)
  - [x] 전체/복습완료/복습필요 통계
  - [x] 복습률 표시

**3.7 순위 (2-3일)** ✅ 완료
- [x] 순위 페이지 (`/student/ranking`)
  - [x] 통합 순위 조회 API (`GET /api/student/ranking?type=class|grade|all`)
  - [x] 반별/학년별/전체 순위 탭 전환
  - [x] 상위 5등 표시 (익명 처리: 학년/반/번호만)
  - [x] 본인 순위 강조 표시 (이름 포함)
  - [x] 메달 이모지 시각화 (🥇🥈🥉🏅)
- [x] 순위 계산 로직 (평균 점수 기준, 동점자는 학습 횟수로 처리)

**3.8 테스트 (2일)**
- [ ] 스스로 선택 학습 테스트
- [ ] 교사 지정 학습 테스트
- [ ] 독해 연습 및 문제 풀이 테스트
- [ ] 채점 및 결과 확인 테스트
- [ ] 오답 노트 테스트
- [ ] 순위 조회 테스트

#### Deliverable
- 학생용 모든 학습 기능 완성
- 독해 연습, 문제 풀이
- 성적 조회 및 통계
- 오답 노트, 순위

---

### Phase 4: 통계 및 최적화 (1-2주)

#### 목표
고급 통계, 성능 최적화, 배포

#### 작업 목록

**4.1 고급 통계 (3-4일)**
- [ ] 교사: 문제별 정답률 히트맵
- [ ] 교사: 학생별 카테고리별 레이더 차트
- [ ] 학생: 학습 패턴 분석 (선택적)
- [ ] 대시보드 차트 개선

**4.2 성능 최적화 (2-3일)**
- [ ] 이미지 최적화 (Next.js Image)
- [ ] 코드 스플리팅 (Dynamic Import)
- [ ] 데이터베이스 쿼리 최적화
  - [ ] N+1 문제 해결 (Prisma include)
  - [ ] 인덱스 추가
- [ ] Lighthouse 성능 측정
- [ ] 캐싱 전략 (ISR)

**4.3 반응형 디자인 완성 (2-3일)**
- [ ] 모바일 뷰 최적화
- [ ] 태블릿 뷰 최적화
- [ ] 크로스 브라우저 테스트

**4.4 에러 핸들링 (1-2일)**
- [ ] 에러 바운더리 (Error Boundary)
- [ ] API 에러 핸들링
- [ ] 사용자 친화적인 에러 메시지

**4.5 배포 준비 (2일)**
- [ ] 환경 변수 정리
- [ ] Vercel 프로젝트 생성
- [ ] 환경 변수 설정 (Vercel)
- [ ] 도메인 연결 (선택적)
- [ ] HTTPS 확인

**4.6 최종 테스트 (2-3일)**
- [ ] 전체 기능 통합 테스트
  - [ ] 교사: 학생 등록 → 지문 등록 → 문제 등록 → 지정 → 성적 조회
  - [ ] 학생: 로그인 → 학습 → 제출 → 성적 확인 → 오답 노트
- [ ] 모바일 테스트
- [ ] 성능 테스트
- [ ] 버그 수정
- [ ] 최종 배포

**4.7 문서 작성 (1일)**
- [ ] README.md 업데이트
- [ ] 사용자 가이드 (선택적)
- [ ] 교사 가이드 (선택적)

#### Deliverable
- 최적화된 성능
- 배포 완료 (Production)
- 안정적인 서비스 운영

---

## 3. 전체 일정 요약

| Phase | 작업 내용 | 예상 기간 | 누적 기간 |
|-------|-----------|-----------|-----------|
| Phase 1 | 기본 인프라 및 인증 | 1-2주 | 1-2주 ✅ |
| Phase 2 | 교사용 기능 | 3-4주 | 4-6주 |
| Phase 3 | 학생용 학습 기능 | 3-4주 | 7-10주 |
| Phase 4 | 통계 및 최적화 | 1-2주 | 8-12주 |

**총 예상 기간: 8-12주 (약 2-3개월)**

---

## 4. 우선순위

### Must Have (필수)
- Phase 1: 기본 인프라 및 인증 ✅
- Phase 2: 교사용 기능
- Phase 3: 학생용 학습 기능
  - 독해 연습
  - 문제 풀이
  - 성적 조회

### Should Have (중요)
- Phase 3: 오답 노트, 순위
- Phase 4: 고급 통계

### Could Have (선택적)
- 교사 지정 학습
- CSV 일괄 등록
- PDF 다운로드
- AI 기반 분석

---

## 5. 리스크 관리

### 주요 리스크

**1. 복수 정답 처리 복잡도**
- 리스크: 복수 정답 채점 로직이 복잡할 수 있음
- 대응: 명확한 채점 로직 설계, 충분한 테스트

**2. 성적 그래프 구현**
- 리스크: recharts 라이브러리 학습 시간
- 대응: 공식 문서 및 예제 사전 학습

**3. 1인 개발로 인한 시간 지연**
- 리스크: 예상보다 개발 기간이 길어질 수 있음
- 대응: Phase별로 MVP 우선, 선택적 기능은 추후 추가

**4. 데이터베이스 성능**
- 리스크: 학생/지문/문제 데이터 증가 시 성능 저하
- 대응: 적절한 인덱싱, 쿼리 최적화

---

## 6. 현재 진행 상황

### 완료된 작업 ✅
- [x] **Phase 1: 기본 인프라** (100% 완료)
  - [x] 프로젝트 초기 설정
  - [x] 데이터베이스 설정 (Neon)
  - [x] Prisma 스키마 작성
  - [x] NextAuth.js 설정 (교사/학생 로그인)
  - [x] 기본 UI/레이아웃 완성
  - [x] 로그인 페이지 UI 구현
  - [x] **구조 개선 - 비즈니스 툴 전환** ✅
    - [x] 소개 페이지 제거
    - [x] 루트 페이지(/) = 로그인 페이지로 변경
    - [x] 불필요한 마케팅 페이지 삭제
    - [x] 로그인 후 역할별 리다이렉트 개선
    - [x] 교사/학생 대시보드 구조 완성
  - [x] 테스트 계정 생성 API 구현

- [x] **Phase 2.1: 교사 대시보드** (100% 완료)
  - [x] 실시간 통계 카드 구현
  - [x] 최근 활동 로그
  - [x] API: `/api/teacher/stats`, `/api/teacher/recent-activities`

- [x] **Phase 2.2: 학생 관리 CRUD** (100% 완료)
  - [x] 학생 목록 페이지 (검색, 필터링, 페이지네이션)
  - [x] 학생 등록/상세/수정 페이지
  - [x] API: `/api/teacher/students`
  - [x] 활성화 기간 설정, 학번 자동 생성

- [x] **Phase 2.3: 지문 관리 CRUD** (100% 완료)
  - [x] 지문 목록 페이지 (카테고리/난이도 필터링, 검색)
  - [x] 지문 등록 페이지 (문단별 입력 UI)
  - [x] 지문 상세 페이지
  - [x] API: `/api/teacher/passages`
  - [x] 동적 문단 추가/삭제 기능

- [x] **Phase 2.4: 문제 관리 CRUD** (100% 완료)
  - [x] 문제 목록 페이지 (검색, 필터링, 페이지네이션)
  - [x] 문제 등록 페이지 (객관식/단답형/서술형)
  - [x] 문제 상세/수정 페이지
  - [x] API: `/api/teacher/questions`
  - [x] 복수 정답 처리
  - [x] 지문 연결 기능

- [x] **Phase 2.5: 성적 조회** (100% 완료)
  - [x] 성적 목록 페이지 (필터링, 정렬, 페이지네이션)
  - [x] 성적 상세 페이지 (문단별/문제별 답변 표시)
  - [x] API: `/api/teacher/results`
  - [x] Excel 다운로드 기능

- [x] **Phase 2.6: 통계 분석** (100% 완료)
  - [x] 통계 페이지 (학년별/반별/카테고리별 평균 점수)
  - [x] API: `/api/teacher/statistics`
  - [x] recharts 차트 라이브러리 연동
  - [x] 최근 30일 성적 추이 (라인 차트)
  - [x] 다양한 막대 차트 및 테이블

### 진행 중 🔄
- **Phase 2 교사용 기능 완료!** ✅
  - Phase 2.1 ~ 2.6 모두 완료

### 다음 단계
1. **Phase 3: 학생용 학습 기능** (3-4주)
   - 학생 대시보드
   - 스스로 선택 학습
   - 독해 연습 및 문제 풀이
   - 성적 조회 및 오답 노트

2. **Phase 4: 통계 및 최적화** (1-2주)
   - 성능 최적화
   - 배포 준비

---

## 마무리

이 WBS는 국어 학습 통합 시스템 프로젝트의 전체 작업을 Phase별로 체계적으로 정리한 문서입니다.

각 Phase별로 명확한 목표와 작업 목록, 예상 기간이 정의되어 있어 개발을 효율적으로 진행할 수 있습니다.

개발 진행 중 상황에 따라 유연하게 조정하면서 진행하시기 바랍니다.

**화이팅!** 🚀

---

**작성일**: 2025-10-24  
**버전**: 2.0.0  
**프로젝트**: 국어 학습 통합 시스템
